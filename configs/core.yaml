# Core Configuration
# Copy file này thành core_config.yaml và chỉnh sửa

# ==================== LIVE BRAIN ====================
brain:
  # Timing
  min_speak_interval: 3.0      # Minimum seconds giữa 2 lần nói
  max_speak_interval: 15.0     # Force speak nếu im lặng quá lâu
  default_cooldown: 4.0        # Cooldown mặc định sau khi nói
  
  # Priority thresholds
  high_priority_threshold: 7   # Priority >= 7 sẽ được xem xét
  auto_speak_priority: 9       # Priority >= 9 sẽ tự động nói
  
  # Queue
  max_queue_size: 10
  queue_timeout: 30.0
  
  # Intent priorities (1-10)
  intent_priority:
    greeting: 6
    price_question: 9          # Cao vì liên quan đến sale
    product_question: 8
    purchase_intent: 10        # Cao nhất - khách muốn mua
    thanks: 5
    complaint: 7               # Cao để xử lý nhanh
    request: 6
    chitchat: 4
    spam: 1
    unknown: 3
  
  # State modifiers (nhân với base priority)
  state_modifiers:
    IDLE:
      greeting: 1.5            # Ưu tiên chào hỏi khi idle
      chitchat: 1.2
    WARM_UP:
      product_question: 1.3
    INTEREST:
      price_question: 1.5      # Ưu tiên hỏi giá khi đang tạo hứng thú
    PRICE:
      purchase_intent: 2.0     # Ưu tiên gấp đôi khi đang nói giá
    CTA:
      purchase_intent: 1.5
    COOLDOWN: {}
  
  # Viewer count modifiers
  viewer_modifiers:
    low:
      threshold: 50
      multiplier: 1.2          # Responsive hơn khi ít viewer
    high:
      threshold: 500
      multiplier: 0.8          # Selective hơn khi đông viewer

# ==================== STATE MACHINE ====================
state_machine:
  states:
    IDLE:
      min_duration: 0
      max_duration: 60         # Auto warm-up sau 60s
      response_style: friendly
      
    WARM_UP:
      min_duration: 30
      max_duration: 120
      response_style: enthusiastic
      
    INTEREST:
      min_duration: 45
      max_duration: 180
      response_style: informative
      
    PRICE:
      min_duration: 20
      max_duration: 90
      response_style: value_focused
      
    CTA:
      min_duration: 15
      max_duration: 45
      response_style: urgent
      
    COOLDOWN:
      min_duration: 60
      max_duration: 120
      response_style: calm

# ==================== OBSERVABILITY ====================
observability:
  # Sampling
  viewer_sample_interval: 10.0   # Sample viewer count mỗi 10s
  summary_interval: 300.0        # Generate summary mỗi 5 phút
  
  # Alert thresholds
  alerts:
    max_speak_interval: 30.0     # Alert nếu im lặng > 30s
    min_response_rate: 0.1       # Alert nếu response rate < 10%
    viewer_drop: 0.2             # Alert nếu viewer drop > 20%
  
  # Logging
  logging:
    console_level: INFO          # DEBUG, INFO, WARNING, ERROR
    file_level: DEBUG
    log_dir: ./logs
  
  # Metrics export
  export:
    enabled: true
    interval: 600                # Export mỗi 10 phút
    format: json                 # json, csv
    path: ./metrics

# ==================== SALE PHRASES ====================
sale_phrases:
  - "mua ngay"
  - "đặt hàng"
  - "giá"
  - "khuyến mãi"
  - "giảm giá"
  - "flash sale"
  - "số lượng có hạn"
  - "link"
  - "inbox"
  - "dm"
  - "order"
  - "ship"
